# King Arthur Capital - Backend Environment Variables
# Copy this file to .env and update with your values

# ==========================================
# Environment (REQUIRED)
# ==========================================
# Options: development, production
NODE_ENV=development

# ==========================================
# Server Configuration (REQUIRED)
# ==========================================
# Port the backend server will run on
PORT=8085

# Host to bind to (0.0.0.0 for all interfaces, localhost for local only)
HOST=0.0.0.0

# ==========================================
# Database Configuration (REQUIRED)
# ==========================================
# Local MongoDB (for development)
MONGODB_URI=mongodb+srv://dev_db_user:y7YdaNrYYjsGpYk1@king-arthur-capital.n72ovso.mongodb.net/?appName=king-arthur-capital

# MongoDB Atlas (for production - get from https://cloud.mongodb.com)
# Format: mongodb+srv://username:password@cluster.mongodb.net/database_name?retryWrites=true&w=majority
# MONGODB_URI=mongodb+srv://your_username:your_password@cluster0.xxxxx.mongodb.net/king_arthur_capital?retryWrites=true&w=majority

# Database connection pool size (optional, default: 10)
# DB_POOL_SIZE=10

# Database connection timeout in ms (optional, default: 5000)
# DB_TIMEOUT=5000

# Database socket timeout in ms (optional, default: 45000)
# DB_SOCKET_TIMEOUT=45000

# ==========================================
# Authentication & Security (REQUIRED)
# ==========================================
# JWT Secret - MUST be at least 32 characters long
# Generate a secure random string: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-to-at-least-32-characters

# JWT token expiration (optional, default: 24h)
# Options: 1h, 12h, 24h, 7d, 30d
# JWT_EXPIRES_IN=24h

# Admin password - MUST be changed from default for production
# Use a strong password with uppercase, lowercase, numbers, and symbols
ADMIN_PASSWORD=admin123

# Bcrypt rounds for password hashing (optional, default: 10)
# Higher is more secure but slower (8-12 recommended)
# BCRYPT_ROUNDS=10

# ==========================================
# CORS Configuration (REQUIRED)
# ==========================================
# Frontend URL for CORS (development)
FRONTEND_URL=http://localhost:3000

# Production frontend URL (used when NODE_ENV=production)
PRODUCTION_FRONTEND_URL=https://kingarthurtimepieces.com

# Additional allowed origins (comma-separated, optional)
# ADDITIONAL_ALLOWED_ORIGINS=https://staging.kingarthurcapital.com,https://admin.kingarthurcapital.com

# ==========================================
# File Upload Configuration (OPTIONAL)
# ==========================================
# Maximum file upload size in bytes (default: 5MB)
# MAX_FILE_SIZE=5242880

# ==========================================
# Rate Limiting (OPTIONAL)
# ==========================================
# Rate limit window in milliseconds (default: 15 minutes)
# RATE_LIMIT_WINDOW=900000

# Maximum requests per window (default: 100)
# RATE_LIMIT_MAX=100

# ==========================================
# Logging (OPTIONAL)
# ==========================================
# Log level: error, warn, info, debug (default: info)
# LOG_LEVEL=info

# Enable console logs (default: true)
# ENABLE_CONSOLE_LOGS=true

# Enable file logs (default: false)
# ENABLE_FILE_LOGS=false

# ==========================================
# Security Options (OPTIONAL)
# ==========================================
# Enable Helmet security middleware (default: true)
# ENABLE_HELMET=true

# Trust proxy headers (set to true if behind reverse proxy like nginx)
# TRUST_PROXY=false

# Enable response compression (default: true)
# ENABLE_COMPRESSION=true

# ==========================================
# Production Checklist
# ==========================================
# Before deploying to production:
# ✓ Set NODE_ENV=production
# ✓ Use MongoDB Atlas URI with strong credentials
# ✓ Generate secure JWT_SECRET (min 32 chars)
# ✓ Change ADMIN_PASSWORD from default
# ✓ Update PRODUCTION_FRONTEND_URL
# ✓ Enable TRUST_PROXY if behind reverse proxy
# ✓ Set appropriate RATE_LIMIT values
# ✓ Review and enable security options
